# Импорт опросников (Surveys) из CSV

## Описание

Эта команда позволяет импортировать опросники из CSV файла в базу данных Django.

## Использование

```bash
python manage.py import_surveys path/to/surveys.csv
```

## Структура CSV файла

### Обязательные поля

- **title** - Название опросника (уникальное)

### Опциональные поля

- **description** - Описание опросника
- **is_active** - Активен ли опросник (`true`/`false`, по умолчанию: `true`)
- **time_limit_minutes** - Время на прохождение в минутах (по умолчанию: 60)
- **questions_count** - Общее количество вопросов (по умолчанию: 30)
- **passing_score** - Проходной балл в процентах (по умолчанию: 70)
- **max_attempts** - Максимальное количество попыток (по умолчанию: 3)
- **safety_logic_psychology_percentage** - Процент вопросов категории "Безопасность, Логика, Психология" (по умолчанию: 70)
- **other_percentage** - Процент вопросов категории "Другое" (по умолчанию: 30)
- **questions_count_junior** - Количество вопросов для уровня "Junior" (по умолчанию: не задается)
- **questions_count_engineer** - Количество вопросов для уровня "Engineer" (по умолчанию: не задается)

## Пример CSV файла

```csv
title,description,is_active,time_limit_minutes,questions_count,passing_score,max_attempts,safety_logic_psychology_percentage,other_percentage,questions_count_junior,questions_count_engineer
"Тест по технике безопасности","Основы техники безопасности на производстве",true,60,30,70,3,70,30,25,35
"Тест по логике и IQ","Логические задачи и тесты на интеллект",true,45,25,75,2,80,20,20,30
```

## Особенности

1. **Обновление существующих опросников**: Если опросник с таким `title` уже существует, он будет обновлен
2. **Конфигурация уровней сотрудников**: Если указаны `questions_count_junior` или `questions_count_engineer`, создаются соответствующие конфигурации
3. **Валидация**: Команда проверяет корректность данных и выводит предупреждения при ошибках
4. **Транзакции**: Все операции выполняются в транзакции, что обеспечивает целостность данных

## Шаблоны

- `surveys_import_template.csv` - Базовый шаблон с примерами
- `surveys_import_template_detailed.csv` - Подробный шаблон с комментариями

## Ошибки и предупреждения

- Строки без `title` пропускаются с предупреждением
- Некорректные значения полей вызывают ошибку для конкретной строки
- Ошибки в одной строке не останавливают обработку остальных строк
